<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Обоснование</title>
    <style>
    h1{
    display:flex;
    justify-content:center;}
    p{
    display:block;
    text-align:center;
    width:50%;
    margin-left:25%}
    canvas { width: 100%; height: 100%; background:white; margin-left:25px}
    </style>

</head>
<body>
<script src="https://threejs.org/build/three.js"></script>
<script src='https://threejs.org/examples/js/controls/OrbitControls.js'></script>
<script>
<!--// Переменная цвета-->
const BACKGROUND_COLOR = 0xBA55D3;
<!--Создание сцены-->
var scene = new THREE.Scene();
<!--Навешивание цвета на сценц-->
scene.background = new THREE.Color(BACKGROUND_COLOR );
scene.fog = new THREE.Fog(BACKGROUND_COLOR, 20, 100);
<!--Пол-->
var floorGeometry = new THREE.PlaneGeometry(5000, 5000, 1, 1);
var floorMaterial = new THREE.MeshPhongMaterial({color: 0xf5b8bf,shininess: 1});
var floor = new THREE.Mesh(floorGeometry, floorMaterial);
floor.rotation.x = -0.5 * Math.PI;
floor.receiveShadow = true;
floor.position.y = -18;
scene.add(floor);
<!--Шрифт-->
const loader = new THREE.FontLoader();
<!--promisify font loading-->
function loadFont(url) {
  return new Promise((resolve, reject) => {
    loader.load(url, resolve, undefined, reject);
  });
}
<!--???-->
<!---->
<!--Свет-->
var spotLight = new THREE.SpotLight(0xf7f8ff);
spotLight.position.set(0, -1000, 1000);
spotLight.castShadow = true;
scene.add(spotLight);
spotLight.position.set(0, 1000, 500);
spotLight.castShadow = true;
scene.add(spotLight);
<!---->
var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
var renderer = new THREE.WebGLRenderer();
renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;
renderer.setSize( window.innerWidth -50 , window.innerHeight -50);
document.body.appendChild( renderer.domElement );
var geometry = new THREE.IcosahedronBufferGeometry(10);
var geo1 = new THREE.IcosahedronBufferGeometry(5);
var material = new THREE.MeshPhongMaterial( {
color: 0x318f2e,
specular: 0x66d4b8,
 } );
var cube = new THREE.Mesh( geometry, material );
cube.position.x = +3;
cube.position.y = 0;
cube.position.z = 0;
var cube1 = new THREE.Mesh( geo1, material );
var cube2 = new THREE.Mesh( geo1, material );
cube1.position.x +=20
cube1.position.y +=10
cube2.position.x -=20
cube2.position.y -=10


scene.add( cube );
scene.add( cube1 );
scene.add( cube2 );



camera.position.z = 45;
var angle = 1;
var before,now,fps;
before=Date.now();
fps=0;
// requestAnimationFrame(
//  function loop(){
//  now=Date.now();
//  fps=Math.round(1000/(now-before));
//  before=now;
//  requestAnimationFrame(loop);
//  console.log("fps",fps)
//  }
//  );
function animate() {
  AnimationReq = requestAnimationFrame( animate );
  cube.position.y += 0.3*Math.sin(angle);
  cube.position.x += 0.3*Math.cos(angle);
  cube.position.y -= 0.2*Math.sin(angle);
  angle += Math.PI/180*2;
  cube.rotation.x += 0.03;
  cube.rotation.y += 0.03;
  cube1.rotation.x += 0.01;
  cube1.rotation.y += 0.01;
  cube1.position.y += 0.3*Math.sin(angle);
  cube1.position.x += 0.3*Math.cos(angle);
  cube2.rotation.x -= 0.01;
  cube2.rotation.y -= 0.01;
  cube2.position.y += 0.3*Math.sin(angle);
  cube2.position.x += 0.3*Math.cos(angle);
  renderer.render( scene, camera );
}

function Stop() {
  cancelAnimationFrame( AnimationReq );
  renderer.render( scene, camera );
}

renderer.render( scene, camera );

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyW') {
    camera.position.z += 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyS') {
    camera.position.z -= 5;
    renderer.render( scene, camera );
  } 
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyA') {
    camera.position.x += 5;
    renderer.render( scene, camera );

  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyD') {
    camera.position.x -= 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyE') {
    camera.position.x -= 5;
    camera.position.y -= 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyQ') {
    camera.position.x += 5;
    camera.position.y -= 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyZ') {
    camera.position.x += 5;
    camera.position.y += 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyC') {
    camera.position.x -= 5;
    camera.position.y += 5;
    renderer.render( scene, camera );
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'KeyX') {
    animate();
    
  }
});

document.addEventListener('keydown', function(event) {
  if (event.code == 'Escape') {
    Stop();
  }
});

    </script>

    <script>
      
      
      </script>

</body>
</html>
